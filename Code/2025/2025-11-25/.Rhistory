na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal() +
theme(
legend.position = "right",
legend.title.position = "left"
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
# data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 3
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(0, 25, 50, 75, 100),
# transform = "log10",
# labels = round(overall_score),
name = "No. of Animals",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal() +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", family = "Candara", color = "grey30"),
legend.text = element_text(size = 8, family = "Candara", color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
# data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 3
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(0, 25, 50, 75, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal() +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", family = "Candara", color = "grey30"),
legend.text = element_text(size = 8, family = "Candara", color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
# data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 3
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(0, 25, 50, 75, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = Candara) +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", family = "Candara", color = "grey30"),
legend.text = element_text(size = 8, family = "Candara", color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
# data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 3
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(0, 25, 50, 75, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
aes(label = ifelse(overall_score > 0, overall_score, "")),
# data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 3
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(0, 25, 50, 75, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 3
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(0, 25, 50, 75, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 2
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(0, 25, 50, 75, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 2
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(20, 40, 60, 80, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 2
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(30, 50, 70, 90, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 2
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(30, 50, 70, 80, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 2
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(30, 50, 80, 90, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
ggplot(df, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
data = df %>% filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 2
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(35, 45, 75, 85, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
df <- spi_indicators[year >= 2016 & region == "Europe & Central Asia", ]
df_clean <- df %>%
filter(!is.na(overall_score) & overall_score >= 0 & overall_score <= 100)
ggplot(df_clean, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 2
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(35, 45, 75, 85, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
df_clean <- df[!is.na(overall_score)]
ggplot(df_clean, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 2
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(35, 45, 75, 85, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30")
)
ggplot(df_clean, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 2
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(35, 45, 75, 85, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
)
ggplot(df_clean, aes(x = year, y = country, fill = overall_score)) +
geom_tile(color = "grey20", linewidth = .25) +
geom_shadowtext(
# aes(label = ifelse(overall_score > 0, overall_score, "")),
aes(label = round(overall_score, 1)),
color = "black",
family = "Candara",
bg.color = "grey95",
bg.r = .1,
size = 2
) +
scale_fill_stepsn(
colors =  c('#2c5769', '#6F99AD', 'grey96', '#ffb5ac', '#a33a3a'),
breaks = c(35, 45, 75, 85, 100),
# transform = "log10",
# labels = round(overall_score),
name = "SPI",
na.value = "grey96",
guide = guide_colorsteps(
barheight = unit(8, "lines"),
barwidth = unit(0.25, "lines")
)  # Centers the title
) +
theme_minimal(base_family = "Candara") +
theme(
legend.position = "right",
legend.title.position = "left",
legend.title = element_text(size = 8, angle = 90, hjust = .5, face = "bold", color = "grey30"),
legend.text = element_text(size = 8, color = "grey30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.margin = margin(20, 20, 20, 20)
)
